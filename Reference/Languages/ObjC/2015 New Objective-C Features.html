<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2023.09.10 -->
        <title>Nullability for Objective-C - GNUstep 2021 December documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">GNUstep 2021 December documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">GNUstep 2021 December documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../Tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../Tutorials/GettingStarted/index.html">Getting Started Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Getting Started Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Tutorials/GettingStarted/1_FirstSteps/index.html">1 - First Steps</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 1 - First Steps</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/1_FirstSteps/1.1.html">1.1 - What is GNUstep?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/1_FirstSteps/1.2.html">1.2 - Installing GNUstep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/1_FirstSteps/1.3.html">1.3 - Configuring your System</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Tutorials/GettingStarted/2_Convertor/index.html">2 - Convertor</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 2 - Convertor</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/2_Convertor/2.1.html">2.1 - Designing the UI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/2_Convertor/2.2.html">2.2 - Outlets and Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/2_Convertor/2.3.html">2.3 - Adding the Code</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Tutorials/GettingStarted/3_TimeMachine/index.html">3 - TimeMachine - a single window application</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 3 - TimeMachine - a single window application</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/3_TimeMachine/3.1.html">3.1 - A Basic Clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/3_TimeMachine/3.2.html">3.2 - Analog Clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/3_TimeMachine/3.3.html">3.3 - New Time Zone Dialog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Tutorials/GettingStarted/3_TimeMachine/3.4.html">3.4 - Multiple Clocks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Tutorials/GettingStarted/HelpfulWebsites.html">Helpful Websites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Tutorials/GettingStarted/WhatsNext.html">What’s Next?</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../Tutorials/Other/Roard/index.html">Roard Vallon Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Roard Vallon Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Tutorials/Other/Roard/Tutorial%201/Tutorial%201.html">1 - Programming under GNUstep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Tutorials/Other/Roard/Tutorial%202/Tutorial%202.html">2 - NSWindowController and Design Pattern MVC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../index.html">Reference Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Reference Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Frameworks/index.html">Frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Frameworks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../Frameworks/index_Core.html">Basic Frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Basic Frameworks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../Frameworks/AppKit/index.html">Application Kit</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Application Kit</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/AppKit/Missing.html">Missing features</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/AppKit/AppleReleaseNotes.html">Apple Release Notes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/AppKit/GNUstepReleaseNotes_HTML.html"><span id="title$ReleaseNotes">GNUstep Gui Release Notes</span></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/AppKit/NSImageName.html"><code class="docutils literal notranslate"><span class="pre">NSImageName</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../Frameworks/Foundation/index.html">Foundation Kit</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Foundation Kit</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/Foundation/CocoaCompatibility.html">Cocoa Compatibility</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/Foundation/AppleReleaseNotes.html">Apple Release Notes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/Foundation/GNUstepReleaseNotes.html">GNUstep Base Release Notes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/CoreData/index.html">Core Data</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../Frameworks/CoreFoundation/index.html">Core Foundation</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Core Foundation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/CoreFoundation/Missing.html">Missing features</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/CoreFoundation/ObjectModel.html">Core Foundation Object Model</a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/index.html">Apple Release Notes</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Apple Release Notes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/SwiftReleaseNotes.html">10.11 and later</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10.9.html">CF-855.11 - 10.9 Mavericks</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10.8.html">CF-744 - 10.8 “Mountain Lion”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/iOS5.html">CF-675 - iOS 5</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10.7.html">CF-635 - 10.7 “Lion”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10.6.html">CF-550 - 10.6 Snow Leopard</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10.5.html">CF-476 - 10.5 “Leopard”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/Historical-GeneralNotes.html">General Notes</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10.2.html">CF-263 - 10.2 “Jaguar”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10.1.html">CF-226 - 10.1 “Puma”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10.0.html">CF-196 - 10.0 “Cheetah”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10_PB.html">Mac OS X Public Beta “Kodiak”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10_DP4.html">Mac OS X Developer Preview 4</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10_DP3.html">Mac OS X Developer Preview 3</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Frameworks/CoreFoundation/AppleReleaseNotes/10_DP2.html">Mac OS X Developer Preview 2</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../Frameworks/index_Miscellaneous.html">Miscellaneous Frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Miscellaneous Frameworks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../Frameworks/AddressBook/index.html">AddressBook</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of AddressBook</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/AddressBook/GNUstep%20Readme.html">GNUstep Readme</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/CFNetwork/index.html">CFNetwork</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/DBusKit/index.html">DBusKit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/ECCL/index.html">Enterprise Control Configuration and Logging (ECCL)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/PDFKit/index.html">PDFKit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/WebKit/index.html">WebKit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/Xcode/index.html">GNUstep Xcode Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/Pantomime/index.html">Pantomime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/GWorkspace/index.html">GWorkspace frameworks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/Renaissance/index.html">Renaissance</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../Frameworks/index_Quartz.html">Quartz Frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Quartz Frameworks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/CoreAnimation/index.html">Core Animation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Frameworks/CoreGraphics/index.html">Core Graphics / Quartz 2D</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../Frameworks/index_WebObjects.html">WebObjects 4 Stack</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of WebObjects 4 Stack</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../Frameworks/EnterpriseObjects/index.html">Enterprise Objects Framework</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Enterprise Objects Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/EnterpriseObjects/AppleReleaseNotes.html">Apple Release Notes</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../Frameworks/WebObjects/index.html">WebObjects</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of WebObjects</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../Frameworks/WebObjects/AppleReleaseNotes.html">Apple Release Notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Tools/index.html">Developer Tools</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Developer Tools</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../Tools/Make/index.html">GNUstep Make</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of GNUstep Make</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Tools/Make/GNUstepReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../Tools/Make/NewDocumentation/index.html">New Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of New Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../Tools/Make/NewDocumentation/Introduction.html">Introduction</a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../Tools/Make/NewDocumentation/Topics/index.html">Topics</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../Tools/Make/NewDocumentation/Topics/ParallelBuilding.html">Parallel Building</a></li>
</ul>
</li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../Tools/Make/NewDocumentation/ProjectTypes/index.html">Project Types</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Project Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../Tools/Make/NewDocumentation/ProjectTypes/Project/Reference.html">Project Reference</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Tools/Make/NewDocumentation/ProjectTypes/ResourceSet/Reference.html">Resource Set Reference</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../Tools/Make/NewDocumentation/ProjectTypes/Tool/Reference.html">Tool Reference</a></li>
<li class="toctree-l6 has-children"><a class="reference internal" href="../../Tools/Make/NewDocumentation/ProjectTypes/Library/index.html">Library</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Library</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l7"><a class="reference internal" href="../../Tools/Make/NewDocumentation/ProjectTypes/Library/Introduction.html">Libraries</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Tools/Gorm%20ProjectCenter.html">Gorm + ProjectCenter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tools/Buildtool.html">Buildtool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tools/BaseTools.html">Base Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tools/Autogsdoc.html">Autogsdoc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Tools/HeaderDoc.html">HeaderDoc</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../index.html">Languages</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Languages</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="index.html">Objective-C</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Objective-C</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="Reference/index.html">Objective-C Language Reference</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Objective-C Language Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="Reference/Attributes.html">Attributes</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/BasicTypes.html">Basic Types</a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="Reference/NS_ENUM/index.html"><code class="docutils literal notranslate"><span class="pre">NS_ENUM</span></code> macros</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of NS_ENUM macros</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="Reference/NS_ENUM/NS_CLOSED_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_CLOSED_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_CLOSED_ENUM</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="Reference/NS_ENUM/NS_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_ENUM</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="Reference/NS_ENUM/NS_ERROR_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_ERROR_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_ERROR_ENUM</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="Reference/Classes.html">Classes</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/LightweightGenerics.html">Lightweight Generics</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/Exceptions.html">Exceptions</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/FastEnumeration.html">Fast enumeration</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/StringLiterals.html">String literals</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/DynamicLiterals.html">Dynamic literals</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/TraditionalMessageForwarding.html">Traditional Message Forwarding</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/Modules.html">Modules</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/EnvInformation.html">Getting Environment Information</a></li>
<li class="toctree-l5"><a class="reference internal" href="Reference/Versions.html">Language Versions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../HIG.html">Human Interface Guidelines</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../Contributing/index.html">Contributing</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of Contributing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../Contributing/Documentation/index.html">Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Contributing/Documentation/Domains/index.html">Sphinx Domains</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Sphinx Domains</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Contributing/Documentation/Domains/SCDT-API.html">Sphinxcontrib-DomainTools API refeerence</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Contributing/Documentation/Tests/index.html">Tests</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of Tests</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Contributing/Documentation/Tests/APIReference/index.html">API Reference Tests</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of API Reference Tests</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Contributing/Documentation/Tests/APIReference/WrongNesting.html">Wrong nesting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Contributing/Documentation/Tests/APIReference/MakeDomain.html">Make domain</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Contributing/Documentation/Todo/index.html">Todo</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of Todo</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Contributing/Documentation/Todo/Autogsdoc.html">Autogsdoc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Contributing/Documentation/Todo/Miscellaneous.html">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Contributing/Documentation/Todo/ReleaseNotes.html">Release Notes and API Diffs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Contributing/Documentation/Dependencies.html">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Contributing/Documentation/DocC.html">DocC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Contributing/Documentation/PandocNotes.html">Pandoc Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Contributing/Documentation/StyleGuide.html">Style Guide</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <blockquote>
<div><p>This is a transcription of the WWDC15 talk <em>Swift and Objective-C Interoperability</em>.</p>
</div></blockquote>
<blockquote>
<div><h3 class="rubric" id="swift-and-objective-c-interoperability">401. <em>Swift and Objective-C Interoperability</em></h3>
<p><a class="reference external" href="https://developer.apple.com/videos/play/wwdc2015/401/">Video</a> | <a class="reference external" href="https://devstreaming-cdn.apple.com/videos/wwdc/2015/401gee20yy5v2men/401/401_sd_swift_and_objectivec_interoperability.mp4">SD Video (MP4)</a> | <a class="reference external" href="https://devstreaming-cdn.apple.com/videos/wwdc/2015/401gee20yy5v2men/401/401_hd_swift_and_objectivec_interoperability.mp4">HD Video (MP4)</a> | <a class="reference external" href="https://devstreaming-cdn.apple.com/videos/wwdc/2015/401gee20yy5v2men/401/401_swift_and_objectivec_interoperability.pdf?dl=1">Slideshow (PDF)</a> | <a class="reference external" href="https://asciiwwdc.com/2015/sessions/401">Transcript</a></p>
</div></blockquote>
<blockquote>
<div><p>This part of the talk was presented by Doug Gregor.</p>
</div></blockquote>
<blockquote>
<div><p>I have reformatted the code a bit to make it more readable, but this way doesn’t follow Apple’s style.</p>
</div></blockquote>
<p>So today I would like to talk about three new Objective-C features we’ve added this year.</p>
<p>These features can be used to make your Objective-C code better, your Objective-C APIs better, make them reflect better into Swift, and improve static type safety in your Objective-C. The first thing we are going to talk about is nullability for Objective-C.</p>
<section id="nullability-for-objective-c">
<h1>Nullability for Objective-C<a class="headerlink" href="#nullability-for-objective-c" title="Permalink to this heading">#</a></h1>
<blockquote>
<div><p><strong>Time</strong>: 14:34</p>
</div></blockquote>
<p>So take a look at this bit of Objective-C code.</p>
<blockquote>
<div><h2 class="rubric" id="which-pointers-can-be-nil">Which Pointers can be <code class="docutils literal notranslate"><span class="pre">nil</span></code>?</h2>
<h3 class="rubric" id="objective-c">Objective-C</h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">UIView</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">)</span><span class="w"> </span><span class="bp">UIView</span><span class="o">*</span><span class="w"> </span><span class="n">superview</span><span class="p">;</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">,</span><span class="k">copy</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">*</span><span class="w"> </span><span class="n">subviews</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="bp">UIView</span><span class="o">*</span><span class="p">)</span> <span class="nf">hitTest:</span><span class="w"> </span><span class="p">(</span><span class="n">CGPoint</span><span class="p">)</span> <span class="nv">point</span><span class="w"> </span><span class="nf">withEvent:</span><span class="w"> </span><span class="p">(</span><span class="bp">UIEvent</span><span class="o">*</span><span class="p">)</span> <span class="nv">event</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
</div></blockquote>
<p>Which one of these can be <code class="docutils literal notranslate"><span class="pre">nil</span></code>? The code doesn’t tell you.</p>
<p>If you go read the documentation, maybe it will tell you if you are feeling lucky today.</p>
<p>You could go write some tests and see what you think it behaves like or maybe guess, but that’s not really good. There’s really missing information here.</p>
<p>When we introduced Swift last year, this lack of information became much more apparent in these implicitly unwrapped optionals, which essentially means we don’t know if it can be nil on the Swift side.</p>
<blockquote>
<div><h2 class="rubric" id="id1">Which Pointers can be <code class="docutils literal notranslate"><span class="pre">nil</span></code>?</h2>
<h3 class="rubric" id="id2">Objective-C</h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">UIView</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">)</span><span class="w"> </span><span class="bp">UIView</span><span class="o">*</span><span class="w"> </span><span class="n">superview</span><span class="p">;</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">,</span><span class="k">copy</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">*</span><span class="w"> </span><span class="n">subviews</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="bp">UIView</span><span class="o">*</span><span class="p">)</span> <span class="nf">hitTest:</span><span class="w"> </span><span class="p">(</span><span class="n">CGPoint</span><span class="p">)</span> <span class="nv">point</span><span class="w"> </span><span class="nf">withEvent:</span><span class="w"> </span><span class="p">(</span><span class="bp">UIEvent</span><span class="o">*</span><span class="p">)</span> <span class="nv">event</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
<h3 class="rubric" id="swift-1-0">Swift 1.0</h3>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="bp">UIView</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nv">superview</span><span class="p">:</span> <span class="bp">UIView</span><span class="p">!</span>
  <span class="kd">var</span> <span class="nv">subviews</span><span class="p">:</span> <span class="p">[</span><span class="nb">AnyObject</span><span class="p">]</span><span class="o">!</span>
  <span class="kd">func</span> <span class="nf">hitTest</span><span class="p">(</span><span class="n">point</span><span class="p">:</span> <span class="n">CGPoint</span><span class="p">,</span> <span class="n">withEvent</span><span class="p">:</span> <span class="bp">UIEvent</span><span class="p">!)</span> <span class="p">-&gt;</span> <span class="bp">UIView</span><span class="p">!</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>So we weren’t too thrilled with this, and so after releasing Swift 1.0, we went and audited a couple thousand pointers within our own core frameworks to tell the compiler which of these pointers can be nil. And the interfaces after this audit got much, much cleaner.</p>
<blockquote>
<div><h2 class="rubric" id="nullability-audit">Nullability Audit</h2>
<h3 class="rubric" id="id3">Objective-C</h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">UIView</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">)</span><span class="w"> </span><span class="bp">UIView</span><span class="o">*</span><span class="w"> </span><span class="n">superview</span><span class="p">;</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">,</span><span class="k">copy</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">*</span><span class="w"> </span><span class="n">subviews</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="bp">UIView</span><span class="o">*</span><span class="p">)</span> <span class="nf">hitTest:</span><span class="w"> </span><span class="p">(</span><span class="n">CGPoint</span><span class="p">)</span> <span class="nv">point</span><span class="w"> </span><span class="nf">withEvent:</span><span class="w"> </span><span class="p">(</span><span class="bp">UIEvent</span><span class="o">*</span><span class="p">)</span> <span class="nv">event</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
<h3 class="rubric" id="swift-1-1">Swift 1.1</h3>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="bp">UIView</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nv">superview</span><span class="p">:</span> <span class="bp">UIView</span><span class="p">?</span>
  <span class="kd">var</span> <span class="nv">subviews</span><span class="p">:</span> <span class="p">[</span><span class="nb">AnyObject</span><span class="p">]</span>
  <span class="kd">func</span> <span class="nf">hitTest</span><span class="p">(</span><span class="n">point</span><span class="p">:</span> <span class="n">CGPoint</span><span class="p">,</span> <span class="n">withEvent</span><span class="p">:</span> <span class="bp">UIEvent</span><span class="p">?)</span> <span class="p">-&gt;</span> <span class="bp">UIView</span><span class="p">?</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Now, we are only using optional types where nil is actually something you have to deal with, and everything else is non-optional.</p>
<p>This is still not that wonderful, because this knowledge is baked into the compiler. It’s not something you can do.</p>
<p>So with Xcode 6.3, we introduced nullability qualifiers for Objective-C.</p>
<blockquote>
<div><h2 class="rubric" id="nullability-qualifiers-for-objective-c">Nullability Qualifiers for Objective-C</h2>
<p>Indicate whether Objective-C/C pointers can be <code class="docutils literal notranslate"><span class="pre">nil</span></code></p>
<ul class="simple">
<li><p>Better communicates the intent of APIs</p></li>
<li><p>Allows improved static checking</p></li>
<li><p>Improves usability of APIs into Swift</p></li>
</ul>
</div></blockquote>
<p>So a nullability qualifier is something you can add to a C/Objective-C pointer to state whether it accepts <code class="docutils literal notranslate"><span class="pre">nil</span></code> or not. Of course, this better communicates what your API actually does. Does it accept <code class="docutils literal notranslate"><span class="pre">nil</span></code>? Does that make sense for it? It helps our tools do better static checking to catch bugs before they manifest at run time, and it makes the Swift experience so much better with your Objective-C APIs! Now, there are three nullability qualifiers.</p>
<blockquote>
<div><h2 class="rubric" id="nullability-qualifiers">Nullability Qualifiers</h2>
<h2 class="rubric" id="id4"></h2>
</div></blockquote>
</section>
<section id="lightweight-generics-for-objective-c">
<h1>Lightweight Generics for Objective-C<a class="headerlink" href="#lightweight-generics-for-objective-c" title="Permalink to this heading">#</a></h1>
<blockquote>
<div><p><strong>Time</strong>: 21:40</p>
</div></blockquote>
<p>Alright, let’s come on to the next feature. This is a big one. Lightweight generics for Objective-C. Now, the origin of this feature, it’s actually fairly easy to motivate. Collections.</p>
<blockquote>
<div><h2 class="rubric" id="collections">Collections</h2>
<h3 class="rubric" id="id5">Objective-C</h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">UIView</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">,</span><span class="k">copy</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">*</span><span class="w"> </span><span class="n">subviews</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
</div></blockquote>
<p>Here we have this <code class="docutils literal notranslate"><span class="pre">NSArray</span></code> of subviews. What’s in the array? We don’t say what’s in the array. We bring this into Swift and you say, ah, it’s an array of <code class="docutils literal notranslate"><span class="pre">AnyObject</span></code>, of course. That still tells me absolutely nothing.</p>
<p>I have to cast a lot. That’s what it tells me.</p>
<blockquote>
<div><h2 class="rubric" id="typed-collections">Typed Collections</h2>
<p>Allow collections to be parameterized by element type</p>
<ul class="simple">
<li><p>“An array of views”</p></li>
<li><p>“A dictionary mapping strings to images”</p></li>
</ul>
</div></blockquote>
<p>So we have had, of course, this common request for typed collections.</p>
<p>Because people really want to say I have an array of views. I have a dictionary that maps from string keys over to the images associated with those keys.</p>
<p>This has been probably been the most highly requested feature for the last decade of Objective-C.</p>
<blockquote>
<div><h2 class="rubric" id="id6">Typed Collections</h2>
<p>Allow collections to be parameterized by element type</p>
<ul class="simple">
<li><p>“An array of views”</p></li>
<li><p>“A dictionary mapping strings to images”</p></li>
</ul>
<p>Lightweight generics for Objective-C</p>
<ul class="simple">
<li><p>Improve expressibity of APIs</p></li>
<li><p>Make collections easier to use</p></li>
<li><p>Enable better static type checking</p></li>
</ul>
</div></blockquote>
<p>So, now we are finally rolling it out with lightweight generics for Objective-C. So this is a general language feature that can be used to improve the expressivity of your APIs; it makes collections way easier to use now that we have all the static type safety of typed collections. Let’s take a look.</p>
<blockquote>
<div><h2 class="rubric" id="id7">Typed Collections</h2>
<h3 class="rubric" id="id8">Objective-C</h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">UIView</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">,</span><span class="k">copy</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">*</span><span class="w"> </span><span class="n">subviews</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
</div></blockquote>
<p>So here’s our subviews property again.</p>
<blockquote>
<div><h2 class="rubric" id="id9">Typed Collections</h2>
<h3 class="rubric" id="id10">Objective-C</h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">UIView</span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span><span class="k">readonly</span><span class="p">,</span><span class="k">copy</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">*</span><span class="w"> </span><span class="n">subviews</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
</div></blockquote>
<p>To make this an array of <code class="docutils literal notranslate"><span class="pre">UIView</span></code>s, we just place <code class="docutils literal notranslate"><span class="pre">UIView*</span></code>, so <code class="docutils literal notranslate"><span class="pre">UIView</span></code> pointer, in angle brackets. Same syntax you have seen. Whoops, sorry.</p>
<p>The same syntax you have seen from Swift and C++ and C-Sharp, et cetera, et cetera. Yes, we are completely aware that angle brackets are “protocol qualifiers”. Don’t worry, we’ve got it. So this introduces more type information into Objective-C. Of course, this reflects into Swift as much more beautiful type information. But really I want to talk about the Objective-C effect because this is a really useful feature for Objective-C.</p>
<blockquote>
<div><h2 class="rubric" id="type-safety-for-typed-collections">Type Safety for Typed Collections</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span>NSURL* url = …;
NSArray&lt;NSURL*&gt;* components = url.pathComponents; 
</pre></div>
</div>
</div></blockquote>
<p>Because let’s talk about type safety. Here’s an example. So I’m taking the path components of any URL, <code class="docutils literal notranslate"><span class="pre">NSURL</span></code>. And I’m putting it into an array of URLs. That almost seems reasonable if I didn’t know this API and it would be a while before I got the run time error, the unrecognized selector that points out that no, I’m completely wrong in my usage of path components.</p>
<blockquote>
<div><h2 class="rubric" id="id11">Type Safety for Typed Collections</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span>NSURL *url = …;
NSArray&lt;NSURL*&gt;* components = url.pathComponents; 
</pre></div>
</div>
<blockquote>
<div><p><strong>warning</strong>: incompatible pointer types intializing <code class="docutils literal notranslate"><span class="pre">NSArray&lt;</span></code><strong><code class="docutils literal notranslate"><span class="pre">NSURL</span></code></strong><code class="docutils literal notranslate"> <span class="pre">*&gt;*</span></code> with <code class="docutils literal notranslate"><span class="pre">NSArray&lt;</span></code><strong><code class="docutils literal notranslate"><span class="pre">NSString</span></code></strong><code class="docutils literal notranslate"> <span class="pre">*&gt;*</span></code></p>
</div></blockquote>
</div></blockquote>
<p>With typed collections and, of course, us rolling out typed collections throughout our SDKs, now you get a warning to tell you just what you did wrong at the point where it happens.</p>
<blockquote>
<div><h2 class="rubric" id="id12">Type Safety for Typed Collections</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span>NSURL *url = …;
NSArray&lt;NSURL*&gt;* components = url.pathComponents; 
</pre></div>
</div>
<blockquote>
<div><p><strong>warning</strong>: incompatible pointer types intializing <code class="docutils literal notranslate"><span class="pre">NSArray&lt;</span></code><strong><code class="docutils literal notranslate"><span class="pre">NSURL</span></code></strong><code class="docutils literal notranslate"> <span class="pre">*&gt;*</span></code> with <code class="docutils literal notranslate"><span class="pre">NSArray&lt;</span></code><strong><code class="docutils literal notranslate"><span class="pre">NSString</span></code></strong><code class="docutils literal notranslate"> <span class="pre">*&gt;*</span></code></p>
</div></blockquote>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span>NSMutableArray&lt;NSString*&gt;* results = …;
[results addObject: @17];
</pre></div>
</div>
<blockquote>
<div><p><strong>warning</strong>: incompatible pointer types sending <strong><code class="docutils literal notranslate"><span class="pre">NSNumber</span></code></strong><code class="docutils literal notranslate"> <span class="pre">*</span></code> to parameter of type <strong><code class="docutils literal notranslate"><span class="pre">NSString</span></code></strong><code class="docutils literal notranslate"> <span class="pre">*</span></code></p>
</div></blockquote>
</div></blockquote>
<p>Many other cases here – say I’m building up a mutable array of <code class="docutils literal notranslate"><span class="pre">NSStrings</span></code> and I foolishly go and add something to that array without turning it into a string first, okay, the compiler is going to tell me, no, you can’t put an <code class="docutils literal notranslate"><span class="pre">NSNumber</span></code> into this <code class="docutils literal notranslate"><span class="pre">NSMutableArray</span></code> of strings. It doesn’t make sense. Now, the compiler actually has fairly deep knowledge of the semantics here of the Cocoa collections.</p>
<blockquote>
<div><h2 class="rubric" id="id13">Type Safety for Typed Collections</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="bp">UIView</span><span class="o">*&gt;*</span><span class="w"> </span><span class="n">views</span><span class="p">;</span>
<span class="bp">NSArray</span><span class="o">&lt;</span><span class="bp">UIResponder</span><span class="o">*&gt;*</span><span class="w"> </span><span class="n">responders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">views</span><span class="p">;</span><span class="w"> </span>
</pre></div>
</div>
</div></blockquote>
<p>So let’s take this example here, we have an array of views, we have an array of responders. We assign from the array of views to the array of responders, okay every view is a responder. This seems fine. It is okay.</p>
<p>Let’s do the same thing with the mutable variant.</p>
<blockquote>
<div><h2 class="rubric" id="id14">Type Safety for Typed Collections</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="bp">NSMutableArray</span><span class="o">&lt;</span><span class="bp">UIView</span><span class="o">*&gt;*</span><span class="w"> </span><span class="n">storedViews</span><span class="p">;</span>
<span class="bp">NSMutableArray</span><span class="o">&lt;</span><span class="bp">UIResponder</span><span class="o">*&gt;*</span><span class="w"> </span><span class="n">storedResponders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">storedViews</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>So we take the stored mutable array of views and assign it over to the stored mutable array of responders. There’s a trap here.</p>
<p>The trap, of course, is I can go ahead and mutate my stored responders, put something in there that’s a responder but not a view.</p>
<p>Now, something later on is getting very, very confused that the array of views it’s looking at has a view controller in it, not a view.</p>
<blockquote>
<div><h2 class="rubric" id="id15">Type Safety for Typed Collections</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="bp">NSMutableArray</span><span class="o">&lt;</span><span class="bp">UIView</span><span class="o">*&gt;*</span><span class="w"> </span><span class="n">storedViews</span><span class="p">;</span>
<span class="bp">NSMutableArray</span><span class="o">&lt;</span><span class="bp">UIResponder</span><span class="o">*&gt;*</span><span class="w"> </span><span class="n">storedResponders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">storedViews</span><span class="p">;</span>
</pre></div>
</div>
<blockquote>
<div><p><strong>warning</strong>: incompatible pointer types intializing <code class="docutils literal notranslate"><span class="pre">NSArray&lt;</span></code><strong><code class="docutils literal notranslate"><span class="pre">UIResponder</span></code></strong><code class="docutils literal notranslate"> <span class="pre">*&gt;*</span></code> with <code class="docutils literal notranslate"><span class="pre">NSArray&lt;</span></code><strong><code class="docutils literal notranslate"><span class="pre">UIView</span></code></strong><code class="docutils literal notranslate"> <span class="pre">*&gt;*</span></code></p>
</div></blockquote>
</div></blockquote>
<p>Compiler understands this is as well.</p>
<p>It will complain at the point of initialization, here, that while it’s perfectly safe to do this kind of assignment with immutable arrays because they don’t change from underneath you, it is not safe to do with the mutable variants.</p>
<p>Alright. You have actually seen all you need to use lightweight generics and typed collections throughout your applications. But let’s take a look at how we use this within Foundation itself, to actually create typed collections.</p>
<p>Because the feature here is generics. Typed collections is one of the outcomes of it.</p>
<p>So here we have <code class="docutils literal notranslate"><span class="pre">NSArray</span></code> as you are used to seeing it.</p>
<blockquote>
<div><h2 class="rubric" id="id16">Type Safety for Typed Collections</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">NSArray</span> : <span class="bp">NSObject</span>



<span class="k">@end</span>
</pre></div>
</div>
</div></blockquote>
<p>Now we are going to parameterize it, based on the object type that’s stored in the <code class="docutils literal notranslate"><span class="pre">NSArray</span></code>, again, using angle brackets.</p>
<p>We are just introducing a name here.</p>
<blockquote>
<div><h2 class="rubric" id="id17">Type Safety for Typed Collections</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">NSArray</span><span class="o">&lt;</span><span class="n">ObjectType</span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="bp">NSObject</span>
<span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">ObjectType</span><span class="p">)</span><span class="w"> </span><span class="n">objectAtIndex</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">NSUInteger</span><span class="p">)</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span> <span class="nf">initWithObjects:</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ObjectType</span><span class="p">[])</span> <span class="nv">objects</span>
<span class="w">                          </span><span class="nl">count</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">NSUInteger</span><span class="p">)</span> <span class="nv">cnt</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="n">ObjectType</span><span class="o">&gt;*</span><span class="p">)</span> <span class="nf">arrayByAddingObject:</span><span class="w"> </span><span class="p">(</span><span class="n">ObjectType</span><span class="p">)</span> <span class="nv">anObject</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Type paramaters specified in <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>…<code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></li>
<li><p>Type peramaters can be used throughout that interface</p></li>
</ul>
</div></blockquote>
<p>We can use that name throughout the interface, so, of course, object at index, returns something of the object type.</p>
<p>If we go ahead and add other methods here.</p>
<p>When you initialize with objects the array you get in, the C-array, contains objects.</p>
<p>Use array by adding object.</p>
<p>You put in a new object, you get an NSArray of objects.</p>
<p>So it composes very, very, very nicely.</p>
<p>Of course this also works for categories and extensions.</p>
<blockquote>
<div><h2 class="rubric" id="categories-and-extensions">Categories and Extensions</h2>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="bp">NSDictionary</span><span class="o">&lt;</span><span class="n">KeyType</span><span class="p">,</span><span class="w"> </span><span class="n">ObjectType</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">Lookup</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">nullable</span><span class="w"> </span><span class="n">ObjectType</span><span class="p">)</span><span class="w"> </span><span class="n">objectForKey</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">KeyType</span><span class="p">)</span><span class="w"> </span><span class="n">aKey</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@interface</span> <span class="bp">NSDictionary</span> <span class="nl">(Counting)</span>
<span class="k">@property</span><span class="p">(</span><span class="k">readonly</span><span class="p">)</span><span class="w"> </span><span class="n">NSUInteger</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
</div></blockquote>
<p>Here we have an <code class="docutils literal notranslate"><span class="pre">NSDictionary</span></code> category, parameterized on the key type and the object type, and we have gone ahead and added <code class="docutils literal notranslate"><span class="pre">objectForKey:</span></code> here, takes in a <code class="docutils literal notranslate"><span class="pre">KeyType</span></code>, returns a nullable object type because, of course, <code class="docutils literal notranslate"><span class="pre">nil</span></code> matters here and we want to have that information in our APIs.</p>
<p>Now, of course, there are existing categories defined on <code class="docutils literal notranslate"><span class="pre">NSDictionary</span></code>, <code class="docutils literal notranslate"><span class="pre">NSArray</span></code>, and so on, you may have some yourself.</p>
<p>Those will continue to work as they always have.</p>
<p>They cannot access the type parameters in any way, but they also won’t change behavior at all, they will continue working as they always have.</p>
<blockquote>
<div><h2 class="rubric" id="backward-compatibility">Backward Compatibility</h2>
<p>Type erasure model provides binary compatibility</p>
<ul class="simple">
<li><p>No changes to the Objective-C runtime</p></li>
<li><p>Zero impact on code generation</p></li>
</ul>
</div></blockquote>
<p>That brings me to backward compatibility.</p>
<p>So the entire lightweight generics feature is based on a type erasure model.</p>
<p>Which means that the compiler has all of this rich static type information but it erases that information when generating code.</p>
<p>There’s huge benefits here for Objective-C, that we did not have to make any changes to the Objective-C run time to make this feature work.</p>
<p>That means we are able to roll out generics and typed collections, you can adopt them in all of your applications and it does not affect your ability to deploy back to existing operating systems.</p>
<p><em>[Applause]</em></p>
<p>And if it wasn’t obvious from that description, of course, we are also not going to change code generation in any way.</p>
<p>We’re not adding runtime checking to Objective-C that doesn’t make sense in Objective-C.</p>
<p>We just maintain full binary compatibility.</p>
<p>So adopt this feature, enjoy the warnings preventing you from making horrible mistakes.</p>
<p>And you can adopt it very, very, very … gradually, I guess is the best term here.</p>
<blockquote>
<div><h2 class="rubric" id="id18">Backward Compatibility</h2>
<p>Type erasure model provides binary compatibility</p>
<ul class="simple">
<li><p>No changes to the Objective-C runtime</p></li>
<li><p>Zero impact on code generation
Implicit conversions provide source compatibility:</p></li>
</ul>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span>NSArray&lt;NSString *&gt;* strings = …;
NSArray* array = …;
array = strings; // okay, drops type arguments
strings = array; // okay, adds type arguments
</pre></div>
</div>
</div></blockquote>
<p>So in addition to binary compatibility, we want to provide source compatibility, because we have rolled this feature out through our SDKs.</p>
<p>We don’t want you to have to update all of your source code to use these things everywhere.</p>
<p>We want you to gradually adopt it.</p>
<p>Use it where it makes sense for you.</p>
<p>And so we provided these implicit conversions in the language that allow you to add type arguments or take them away.</p>
<p>Okay? Again, there’s no run time cost to doing this.</p>
<p>But it lets you get in and get out of the generic system as you need.</p>
<p>So all of your new code can be written with generics and if you don’t want to touch your old code, that’s perfectly line.</p>
<p>It’s not going to change.</p>
<p>All right.</p>
</section>
<section id="kindof-types">
<h1>“Kindof” types<a class="headerlink" href="#kindof-types" title="Permalink to this heading">#</a></h1>
<p>We have one last feature to talk about, this one’s kind of cool.</p>
<p>So kindof types.</p>
<p>Actually, came out of our work on lightweight generics.</p>
<p>And so we started with, of course, using the untyped collection here for subviews, and there’s code that may go grab a view and send some message to it.</p>
<p>This code is fine.</p>
<p>It works today.</p>
<p>We went ahead and did these annotations to say, okay, subviews contains UI views and now we get some warnings.</p>
<p>The compiler is completely justified in giving this warning.</p>
<p>It knows now that the first subview is a UI view.</p>
<p>It can’t know that you know it’s a UI button that would actually respond to this selector.</p>
<p>And so while the compiler is right, it’s not necessarily useful to be producing warnings on all of this code.</p>
<p>You get a raft of warnings most of which would be benign and you would be adding casts everywhere.</p>
<p>This really forced us to consider ID and how it’s used as an API contract.</p>
<p>And so let’s make this a little simpler example.</p>
<p>Let’s talk about NSApp, which is this global in Cocoa that gives you access to your NSApplication instance.</p>
<p>Now, what this really means is NSApp is a subclass of NSApplication.</p>
<p>But we couldn’t describe that to the type system.</p>
<p>With kindof types, we can say this exactly in Objective-C.</p>
<p>What does this mean?</p>
<p>This means NSApp is some kind of application.</p>
<p>So we are going to give it some limited behavior, like ID.</p>
<p>So I have my NSApp, of course I can convert it to an NSObject because every NSApplication is an NSObject.</p>
<p>The important part here, the ID-like behavior, is the implicit downcast from NSApplication to your MyApplication subclass.</p>
<p>That’s good.</p>
<p>We want that behavior because that’s how NSApp has always worked.</p>
<p>Now, what we won’t allow is some silly cross-cast.</p>
<p>You tried to use NSApp in a string?</p>
<p>Well, that’s not an NSApplication and never can be.</p>
<p>So you can produce a warning there.</p>
<p>Of course, coming with this is the notion that you can message NSApp and get all of the methods that are in NSApplication, its superclasses, and its subclasses.</p>
<p>Now, with kindof types we actually found that this is much more useful than ID.</p>
<p>Because it gives you more type information in the API contract which is great for both Swift and Objective-C.</p>
<p>So here we have this NS tableview method, you have column, row, makeIfNecessary.</p>
<p>It’s always returned to ID, because that implicit downcasting behavior is important.</p>
<p>Well, now we can rewrite it as a kindof NSview.</p>
<p>So returning some kind of NSView, and on the Swift side, ah, now we are returning an optional NSView.</p>
<p>That’s the right API for Swift and it works beautifully in Objective-C.</p>
<p>Let’s bring it back to our original example with lightweight generics.</p>
<p>Here we were with our subviews stated as an NSArray of UIViews.</p>
<p>Well, now we can state that it’s an NSArray of kinds of UI views.</p>
<p>So we get the stronger API contract in Objective-C and Swift.</p>
<p>It’s far easier to tell what this property is, but you don’t cause any spurious warnings because you still have that nice, implicit downcasting behavior from ID.</p>
<p>Hopefully this leads you to a question.</p>
<p>Should I even use ID in an API?</p>
<p>Over the years we have actually been rolling out a lot of features that give more specific type information than ID for various important scenarios.</p>
<p>And the same year we introduced Arc, we introduced instance type, which says that the method you are calling returns something of the same dynamic type as self.</p>
<p>This year we are introducing type collections that eliminate tons of uses of ID.</p>
<p>From our own APIs we have been rolling out these features and, of course, from your APIs when you adopt this feature.</p>
<p>We now have kindof X to talk about any subclass of X with implicit downcasting.</p>
<p>So you can keep your code working, at least all the actually working code that’s not doing weird things, but have a better API contract, and, of course, protocols have been in Objective-C for a very, very long time and using ID of some protocol is a great way to say I don’t care what the class type is.</p>
<p>It just has to conform to this protocol.</p>
<p>So there’s one major class of uses for ID.</p>
<p>And that’s when you really, really do mean an object of any type.</p>
<p>And there’s no static type information that could make that statement better.</p>
<p>So, a canonical example here is the user info dictionary.</p>
<p>You have string keys and you have ID for the values.</p>
<p>It’s completely reasonable because the different keys will have different types in those values and it’s something you can only determine dynamically.</p>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Ethan C
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=37d1907c"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>