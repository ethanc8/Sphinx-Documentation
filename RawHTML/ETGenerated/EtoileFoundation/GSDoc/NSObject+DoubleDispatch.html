<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
    <title>NSObject+DoubleDispatch documentation</title>
  </head>
  <body>
    <font face="serif">
    <h1><a name="title$NSObject+DoubleDispatch">NSObject+DoubleDispatch documentation</a></h1>
    <h3>Authors</h3>
    <dl>
      <dt>Generated by pi</dt>
      <dd>
      </dd>
    </dl>
    <p><b>Copyright:</b> (C) 2007 Quentin Mathe</p>

        <div>
    </div>

          <h1><a name="001000000000">
        Software documentation for the
        NSObject(ETDoubleDispatch) category
      </a></h1>
    <h2><a rel="gsdoc" href="/usr/GNUstep/Local/Library/Documentation/Developer/Base/Reference/NSObject.html#class$NSObject">NSObject</a>(<a name="category$NSObject(ETDoubleDispatch)">ETDoubleDispatch</a>)</h2>
    <blockquote class="declared">
      <dl>
        <dt><b>Declared in:</b></dt>
        <dd>NSObject+DoubleDispatch.h</dd>
      </dl>
    </blockquote>
    <div class="desc">
      
          
    </p>
    <p>

            @group Language Extensions @abstract Objective-C
            <strong>double</strong> dispatch support.
              </p>
    <p>
      
          
    </p>
    <p>

            This category provides a visitor which supports
            double-dispatch on all visited objects
            without implementing extra methods (such as
            <em>accept:</em> on the visited object side).
              </p>
    <p>
      
          
    </p>
    <p>

            For a more detailed discussion, see
            <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-visit$">
              -visit:
            </a>

            .
              </p>
    <p>
      
          
    </p>
    <p>

            Here is a visitor example:
              </p>
    <p>
      

<pre>

@interface ETView : NSView
@end

@interface UIVisitor : NSObject
@end

@implementation ETView

+ (NSString *) typePrefix
{
    return @&quot;ET&quot;;
}

@end

// To start using the visitor, instantiate a visitor and do [visitor visit: someWindow]
@implementation UIVisitor

// visitXXX methods return id, but returning void would be valid

- (id) visitWindow: (NSWindow *)aWindow
{
    NSLog(@&quot;Visiting window %@&quot;, aWindow);
    return [self visit: [aWindow contentView]];
}

- (id) visitView: (NSView *)aView
{
    NSLog(@&quot;Visiting view %@&quot;, aView);
    for (NSView *subview in [aView subviews])
    {
        [self visit: subview];
    }
    return nil;
}

// Show how you can include the class name prefix and how such a method has 
// priority over a method without any type prefix such as -visitView:.
- (id) visitETView: (ETView *)aSpecialView
{
    NSLog(@&quot;Visiting special view %@&quot;, aSpecialView);
    return nil;
}

@end
</pre>
      
        
    </div>
    <b>Method summary</b>
    <ul>
      <li><a rel="gsdoc" href="NSObject+DoubleDispatch.html#method$NSObject(ETDoubleDispatch)-doubleDispatchPrefix">-doubleDispatchPrefix</a></li>
      <li><a rel="gsdoc" href="NSObject+DoubleDispatch.html#method$NSObject(ETDoubleDispatch)-doubleDispatchSelectorWithObject$ofType$">-doubleDispatchSelectorWithObject:ofType:</a></li>
      <li><a rel="gsdoc" href="NSObject+DoubleDispatch.html#method$NSObject(ETDoubleDispatch)-supportsDoubleDispatchWithObject$">-supportsDoubleDispatchWithObject:</a></li>
      <li><a rel="gsdoc" href="NSObject+DoubleDispatch.html#method$NSObject(ETDoubleDispatch)-tryToPerformSelector$withObject$result$">-tryToPerformSelector:withObject:result:</a></li>
      <li><a rel="gsdoc" href="NSObject+DoubleDispatch.html#method$NSObject(ETDoubleDispatch)-visit$">-visit:</a></li>
      <li><a rel="gsdoc" href="NSObject+DoubleDispatch.html#method$NSObject(ETDoubleDispatch)-visit$result$">-visit:result:</a></li>
    </ul>
    <hr width="50%" align="left" />
<div class="method">
    <h3><a name="method$NSObject(ETDoubleDispatch)-doubleDispatchPrefix">doubleDispatchPrefix&nbsp;</a></h3>
    - (<a rel="gsdoc" href="/usr/GNUstep/Local/Library/Documentation/Developer/Base/Reference/NSString.html#class$NSString">NSString</a>*) <b>doubleDispatchPrefix</b>;<br />
An empty method provided for subclasses to override.<br />
    <div class="desc">
      
            
    </p>
    <p>

              Returns the method name prefix used to build the
              method name to be invoked by the
              <strong>double</strong> dispatch.
                </p>
    <p>
      
            
    </p>
    <p>

              By default, returns <em>visit</em>.
                </p>
    <p>
      
            
    </p>
    <p>

              Can be overriden to return a custom prefix such as
              <em>visit</em>.
                </p>
    <p>
      
            
    </p>
    <p>

              See also
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-visit$">
                -visit:
              </a>

              .
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$NSObject(ETDoubleDispatch)-doubleDispatchSelectorWithObject$ofType$">doubleDispatchSelectorWithObject:&nbsp;ofType:&nbsp;</a></h3>
    - (SEL) <b>doubleDispatchSelectorWithObject:</b> (id)object<b> ofType:</b> (<a rel="gsdoc" href="/usr/GNUstep/Local/Library/Documentation/Developer/Base/Reference/NSString.html#class$NSString">NSString</a>*)aType;<br />
An empty method provided for subclasses to override.<br />
    <div class="desc">
      
            
    </p>
    <p>

              Builds and returns the selector to be invoked for
              a <strong>double</strong> dispatch on the given type.
                </p>
    <p>
      
            
    </p>
    <p>

              For a detailed example, see
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-visit$">
                -visit:
              </a>

              .
                </p>
    <p>
      
            
    </p>
    <p>

              Can be overriden in subclasses to implement an
              alternative strategy to build the method
              names targeted by the <strong>double</strong>
              dispatch.
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$NSObject(ETDoubleDispatch)-supportsDoubleDispatchWithObject$">supportsDoubleDispatchWithObject:&nbsp;</a></h3>
    - (BOOL) <b>supportsDoubleDispatchWithObject:</b> (id)object;<br />
    <div class="desc">
      
            
    </p>
    <p>

              Returns whether the receiver implements a
              <strong>double</strong> dispatch method that
              corresponds to the given <var>object</var>
              type.
                </p>
    <p>
      
            
    </p>
    <p>

              This method serves a similar purpose than -[NSObject
              respondsToSelector:].
                </p>
    <p>
      
            
    </p>
    <p>

              See also
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-visit$">
                -visit:
              </a>

              .
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$NSObject(ETDoubleDispatch)-tryToPerformSelector$withObject$result$">tryToPerformSelector:&nbsp;withObject:&nbsp;result:&nbsp;</a></h3>
    - (id) <b>tryToPerformSelector:</b> (SEL)selector<b> withObject:</b> (id)object<b> result:</b> (BOOL*)performed;<br />
    <div class="desc">
      
            
    </p>
    <p>

              Tries to invoke the <var>selector</var> with the
              given <var>object</var> as first argument, and
              returns either the value returned by the invoked
              method or <code>nil</code>.
                </p>
    <p>
      
            
    </p>
    <p>

              If the receiver doesn&apos;t respond to the
              <var>selector</var>, <var>performed</var> is set to
              <code>NO</code> and <code>nil</code> is returned,
              otherwise <var>performed</var> is set
              <code>YES</code>.
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$NSObject(ETDoubleDispatch)-visit$">visit:&nbsp;</a></h3>
    - (id) <b>visit:</b> (id)object;<br />
    <div class="desc">
      
            
    </p>
    <p>

              Tries to build a method name based on the given
              <var>object</var> type and invoke it.
                </p>
    <p>
      
            
    </p>
    <p>

              For example, if you have a NSView, and you pass it as
              an argument to
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-visit$">
                -visit:
              </a>

              , the selector <em>visitNSView:</em> is built and
              invoked with the given view on the receiver. If
              the receiver doesn&apos;t respond to <em>visitNSView:</em>
              , then <em>visitView:</em> is built by trimming the
              class name prefix, and invoked. If the receiver
              still doesn&apos;t respond the last built selector, then
              it fails silently and returns <code>nil</code>. <br />
              <strong>Class</strong> name prefix are trimmed
              based on the value returned by +[NSObject(Etoile)
              typePrefix]. You can override this last
              method to return a custom prefix, by default it
              returns <em>NS</em>.
                </p>
    <p>
      
            
    </p>
    <p>

              If you want to use another method name prefix than
              <em>visit</em> (e.g. to build a selector such as
              <em>renderView:</em>),
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-doubleDispatchPrefix">
                -doubleDispatchPrefix
              </a>

              can be overriden.
                </p>
    <p>
      
            
    </p>
    <p>

              Subclasses can override this method, if they
              want to customize the double-dispatch behavior.
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$NSObject(ETDoubleDispatch)-visit$result$">visit:&nbsp;result:&nbsp;</a></h3>
    - (id) <b>visit:</b> (id)object<b> result:</b> (BOOL*)performed;<br />
    <div class="desc">
      
            
    </p>
    <p>

              Does the same than
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-visit$">
                -visit:
              </a>

              but reports whether a double-dispatch method was
              succesfully invoked by setting
              <var>performed</var> to <code>YES</code>, or
              <code>NO</code> when no such method was found.
                </p>
    <p>
      
            
    </p>
    <p>

              See also
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-visit$">
                -visit:
              </a>

              and
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-supportsDoubleDispatchWithObject$">-supportsDoubleDispatchWithObject:</a>
.
                </p>
    <p>
      
            
    </p>
    <p>

              This method is called by
              <a rel="gsdoc" href="#method$NSObject(ETDoubleDispatch)-visit$">
                -visit:
              </a>

              and implements the double-dispatch logic.
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
    <br />
    </font>
</body>
</html>
