<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="3.4 - Multiple Clocks" href="3.4.html" /><link rel="prev" title="3.2 - Analog Clock" href="3.2.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2023.09.10 -->
        <title>3.3 - New Time Zone Dialog - GNUstep 2021 December documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">GNUstep 2021 December documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">GNUstep 2021 December documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">Getting Started Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Getting Started Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="../1_FirstSteps/index.html">1 - First Steps</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 1 - First Steps</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../1_FirstSteps/1.1.html">1.1 - What is GNUstep?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1_FirstSteps/1.2.html">1.2 - Installing GNUstep</a></li>
<li class="toctree-l4"><a class="reference internal" href="../1_FirstSteps/1.3.html">1.3 - Configuring your System</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../2_Convertor/index.html">2 - Convertor</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 2 - Convertor</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../2_Convertor/2.1.html">2.1 - Designing the UI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_Convertor/2.2.html">2.2 - Outlets and Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_Convertor/2.3.html">2.3 - Adding the Code</a></li>
</ul>
</li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="index.html">3 - TimeMachine - a single window application</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 3 - TimeMachine - a single window application</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="3.1.html">3.1 - A Basic Clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="3.2.html">3.2 - Analog Clock</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">3.3 - New Time Zone Dialog</a></li>
<li class="toctree-l4"><a class="reference internal" href="3.4.html">3.4 - Multiple Clocks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../HelpfulWebsites.html">Helpful Websites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../WhatsNext.html">What’s Next?</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Other/Roard/index.html">Roard Vallon Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Roard Vallon Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Other/Roard/Tutorial%201/Tutorial%201.html">1 - Programming under GNUstep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Other/Roard/Tutorial%202/Tutorial%202.html">2 - NSWindowController and Design Pattern MVC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../Reference/index.html">Reference Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Reference Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../Reference/Frameworks/index.html">Frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Frameworks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Reference/Frameworks/index_Core.html">Basic Frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Basic Frameworks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Reference/Frameworks/AppKit/index.html">Application Kit</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Application Kit</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/AppKit/Missing.html">Missing features</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/AppKit/AppleReleaseNotes.html">Apple Release Notes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/AppKit/GNUstepReleaseNotes_HTML.html"><span id="title$ReleaseNotes">GNUstep Gui Release Notes</span></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/AppKit/NSImageName.html"><code class="docutils literal notranslate"><span class="pre">NSImageName</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Reference/Frameworks/Foundation/index.html">Foundation Kit</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Foundation Kit</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/Foundation/CocoaCompatibility.html">Cocoa Compatibility</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/Foundation/AppleReleaseNotes.html">Apple Release Notes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/Foundation/GNUstepReleaseNotes.html">GNUstep Base Release Notes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/CoreData/index.html">Core Data</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/index.html">Core Foundation</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Core Foundation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/Missing.html">Missing features</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/ObjectModel.html">Core Foundation Object Model</a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/index.html">Apple Release Notes</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Apple Release Notes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/SwiftReleaseNotes.html">10.11 and later</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10.9.html">CF-855.11 - 10.9 Mavericks</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10.8.html">CF-744 - 10.8 “Mountain Lion”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/iOS5.html">CF-675 - iOS 5</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10.7.html">CF-635 - 10.7 “Lion”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10.6.html">CF-550 - 10.6 Snow Leopard</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10.5.html">CF-476 - 10.5 “Leopard”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/Historical-GeneralNotes.html">General Notes</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10.2.html">CF-263 - 10.2 “Jaguar”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10.1.html">CF-226 - 10.1 “Puma”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10.0.html">CF-196 - 10.0 “Cheetah”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10_PB.html">Mac OS X Public Beta “Kodiak”</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10_DP4.html">Mac OS X Developer Preview 4</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10_DP3.html">Mac OS X Developer Preview 3</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Frameworks/CoreFoundation/AppleReleaseNotes/10_DP2.html">Mac OS X Developer Preview 2</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Reference/Frameworks/index_Miscellaneous.html">Miscellaneous Frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Miscellaneous Frameworks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Reference/Frameworks/AddressBook/index.html">AddressBook</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of AddressBook</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/AddressBook/GNUstep%20Readme.html">GNUstep Readme</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/CFNetwork/index.html">CFNetwork</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/DBusKit/index.html">DBusKit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/ECCL/index.html">Enterprise Control Configuration and Logging (ECCL)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/PDFKit/index.html">PDFKit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/WebKit/index.html">WebKit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/Xcode/index.html">GNUstep Xcode Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/Pantomime/index.html">Pantomime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/GWorkspace/index.html">GWorkspace frameworks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/Renaissance/index.html">Renaissance</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Reference/Frameworks/index_Quartz.html">Quartz Frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Quartz Frameworks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/CoreAnimation/index.html">Core Animation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Frameworks/CoreGraphics/index.html">Core Graphics / Quartz 2D</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Reference/Frameworks/index_WebObjects.html">WebObjects 4 Stack</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of WebObjects 4 Stack</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Reference/Frameworks/EnterpriseObjects/index.html">Enterprise Objects Framework</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Enterprise Objects Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/EnterpriseObjects/AppleReleaseNotes.html">Apple Release Notes</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Reference/Frameworks/WebObjects/index.html">WebObjects</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of WebObjects</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Frameworks/WebObjects/AppleReleaseNotes.html">Apple Release Notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../Reference/Tools/index.html">Developer Tools</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Developer Tools</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Reference/Tools/Make/index.html">GNUstep Make</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of GNUstep Make</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Reference/Tools/Make/GNUstepReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/index.html">New Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of New Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/Introduction.html">Introduction</a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/Topics/index.html">Topics</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/Topics/ParallelBuilding.html">Parallel Building</a></li>
</ul>
</li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/ProjectTypes/index.html">Project Types</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Project Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/ProjectTypes/Project/Reference.html">Project Reference</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/ProjectTypes/ResourceSet/Reference.html">Resource Set Reference</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/ProjectTypes/Tool/Reference.html">Tool Reference</a></li>
<li class="toctree-l6 has-children"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/ProjectTypes/Library/index.html">Library</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Library</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l7"><a class="reference internal" href="../../../Reference/Tools/Make/NewDocumentation/ProjectTypes/Library/Introduction.html">Libraries</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Reference/Tools/Gorm%20ProjectCenter.html">Gorm + ProjectCenter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Reference/Tools/Buildtool.html">Buildtool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Reference/Tools/BaseTools.html">Base Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Reference/Tools/Autogsdoc.html">Autogsdoc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Reference/Tools/HeaderDoc.html">HeaderDoc</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../Reference/Languages/index.html">Languages</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Languages</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Reference/Languages/ObjC/index.html">Objective-C</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Objective-C</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/index.html">Objective-C Language Reference</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Objective-C Language Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/Attributes.html">Attributes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/BasicTypes.html">Basic Types</a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/NS_ENUM/index.html"><code class="docutils literal notranslate"><span class="pre">NS_ENUM</span></code> macros</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of NS_ENUM macros</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/NS_ENUM/NS_CLOSED_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_CLOSED_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_CLOSED_ENUM</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/NS_ENUM/NS_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_ENUM</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/NS_ENUM/NS_ERROR_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_ERROR_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_ERROR_ENUM</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/Classes.html">Classes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/LightweightGenerics.html">Lightweight Generics</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/Exceptions.html">Exceptions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/FastEnumeration.html">Fast enumeration</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/StringLiterals.html">String literals</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/DynamicLiterals.html">Dynamic literals</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/TraditionalMessageForwarding.html">Traditional Message Forwarding</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/Modules.html">Modules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/EnvInformation.html">Getting Environment Information</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Reference/Languages/ObjC/Reference/Versions.html">Language Versions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Reference/HIG.html">Human Interface Guidelines</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../Contributing/index.html">Contributing</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of Contributing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../Contributing/Documentation/index.html">Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Contributing/Documentation/Domains/index.html">Sphinx Domains</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Sphinx Domains</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Contributing/Documentation/Domains/SCDT-API.html">Sphinxcontrib-DomainTools API refeerence</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Contributing/Documentation/Tests/index.html">Tests</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of Tests</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../Contributing/Documentation/Tests/APIReference/index.html">API Reference Tests</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of API Reference Tests</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../Contributing/Documentation/Tests/APIReference/WrongNesting.html">Wrong nesting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../Contributing/Documentation/Tests/APIReference/MakeDomain.html">Make domain</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../Contributing/Documentation/Todo/index.html">Todo</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of Todo</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Contributing/Documentation/Todo/Autogsdoc.html">Autogsdoc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Contributing/Documentation/Todo/Miscellaneous.html">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Contributing/Documentation/Todo/ReleaseNotes.html">Release Notes and API Diffs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Contributing/Documentation/Dependencies.html">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Contributing/Documentation/DocC.html">DocC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Contributing/Documentation/PandocNotes.html">Pandoc Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Contributing/Documentation/StyleGuide.html">Style Guide</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="new-time-zone-dialog">
<h1>3.3 - New Time Zone Dialog<a class="headerlink" href="#new-time-zone-dialog" title="Permalink to this heading">#</a></h1>
<p>In this section, we will create a dialog and add it to our clock application.</p>
<p><img alt="" src="../../../_images/Panel-02.jpg" /></p>
<p>You will learn:</p>
<section id="creating-a-panel">
<h2>Creating a Panel<a class="headerlink" href="#creating-a-panel" title="Permalink to this heading">#</a></h2>
<p>A Panel is a special kind of window. Read the Cocoa document for more
details: <a class="reference external" href="https://web.archive.org/web/20010606130438if_/https://developer.apple.com/techpubs/macosx/Cocoa/TasksAndConcepts/ProgrammingTopics/WinPanel/index.html"><em>Windows and
Panels</em></a>.</p>
<p>Since I have a clock already, I want to know the time in different time
zones. My idea is that when I click the title of the <code class="docutils literal notranslate"><span class="pre">NSBox</span></code>, a panel will
show up and ask the time zone. Once the time zone is inputted, it will
display the time in that area. Since <code class="docutils literal notranslate"><span class="pre">NSPanel</span></code> is a subclass of <code class="docutils literal notranslate"><span class="pre">NSWindow</span></code>,
the usage of <code class="docutils literal notranslate"><span class="pre">NSPanel</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">NSWindow</span></code>. Again, I need a
“controller” to control the “view”, which is <code class="docutils literal notranslate"><span class="pre">NSPanel</span></code> in this case.
The “view” is generated by Gorm, and I need to write the “controller” by
myself. In this example, I’ll show how to load the gorm file. There are
many built-in panel in GNUstep. I also use one in this example.</p>
<p>First, we need to build the interface for the panel. Open Gorm, and choose
the menu item “Document → New Module → New Empty”. Look at the palettes.
There is one for “Panel”.</p>
<p><span id="AEN734"></span></p>
<p><strong>Figure 4-22. Panel in Gorm</strong></p>
<p><img alt="" src="../../../_images/Panel-01.jpg" /></p>
<p>Drag the Panel out of <u>Palettes</u>. Build the interface as below.</p>
<p><span id="AEN740"></span></p>
<p><strong>Figure 4-23. Interface of time zone panel</strong></p>
<p><img alt="" src="../../../_images/Panel-02.jpg" /></p>
<p>You can change the size of panel in the inspector.
Here are the attributes of the panel.</p>
<p><span id="AEN746"></span></p>
<p><strong>Figure 4-24. Panel attributes</strong></p>
<p><img alt="" src="../../../_images/Panel-03.jpg" /></p>
</section>
<section id="controlling-the-panel">
<h2>Controlling the panel<a class="headerlink" href="#controlling-the-panel" title="Permalink to this heading">#</a></h2>
<p>Now, I have the “view”. Then where is the “controller”? Generally, you can
write a new class as the controller of this view, but this is a small
program, so you don’t have to write a class just for the controller.
So I decide to use the class <code class="docutils literal notranslate"><span class="pre">TimeView</span></code> as the controller
for this panel. So <code class="docutils literal notranslate"><span class="pre">TimeView</span></code> acts as the custom view for that
main window interface, and as the controller for the panel. Since
<code class="docutils literal notranslate"><span class="pre">TimeView</span></code> is the controller of this panel, I need to connect the
outlets and actions. Therefore, I need to create the class <code class="docutils literal notranslate"><span class="pre">TimeView</span></code>
again in this gorm file, even though there is already one in
TimeMachine.gorm file.</p>
<div class="admonition-editor-s-note admonition">
<p class="admonition-title">Editor’s note</p>
<p>This seems like a bad idea, but changing it would require a lot of refactoring of this tutorial.</p>
</div>
<p>You already know how to create the class <code class="docutils literal notranslate"><span class="pre">TimeView</span></code>. I add two outlets,
<code class="docutils literal notranslate"><span class="pre">zonePanel</span></code> and <code class="docutils literal notranslate"><span class="pre">zoneField</span></code>, and two actions, <code class="docutils literal notranslate"><span class="pre">okAction:</span></code> and
<code class="docutils literal notranslate"><span class="pre">cancelAction:</span></code>.</p>
<p><span id="AEN753"></span></p>
<p><strong>Figure 4-25. Outlets for time zone panel</strong></p>
<p><img alt="" src="../../../_images/Panel-05.jpg" /></p>
<p><span id="AEN758"></span></p>
<p><strong>Figure 4-26. Actions for time zone panel</strong></p>
<p><img alt="" src="../../../_images/Panel-04.jpg" /></p>
<p>But rather than creating an instance to connect to the panel, let’s set the
owner of this panel to our <code class="docutils literal notranslate"><span class="pre">TimeView</span></code>. This reduces the amount of instances in our project.</p>
<p>Select the NSOwner in Gorm main window, then select class <code class="docutils literal notranslate"><span class="pre">TimeView</span></code> in
the <u>Attributes</u> tab of the inspector.</p>
<p><span id="AEN765"></span></p>
<p><strong>Figure 4-27. Set NSOwner to TimeView class</strong></p>
<p><img alt="" src="../../../_images/Panel-06.jpg" /></p>
<p><img alt="" src="../../../_images/Panel-07.jpg" /></p>
<p>By this way, I can connect the panel to the <code class="docutils literal notranslate"><span class="pre">NSOwner</span></code>, which is an
instance of class <code class="docutils literal notranslate"><span class="pre">TimeView</span></code>. Connect the two buttons to the actions in
NSOwner, the outlet <code class="docutils literal notranslate"><span class="pre">zoneField</span></code> to the <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> in the panel, and the
outlet <code class="docutils literal notranslate"><span class="pre">zonePanel</span></code> to the panel. Pay attention to how the <code class="docutils literal notranslate"><span class="pre">NSOwner</span></code>
connects to the panel.</p>
<p><span id="AEN774"></span></p>
<p><strong>Figure 4-28. Connect outlet</strong></p>
<p><img alt="" src="../../../_images/Panel-08.jpg" /></p>
<p><img alt="" src="../../../_images/Panel-09.jpg" /></p>
<p>Save this interface as <code class="docutils literal notranslate"><span class="pre">TimeZonePanel.gorm</span></code>, and quit Gorm. Don’t
generate the files for class <code class="docutils literal notranslate"><span class="pre">TimeView</span></code> because I already have the
files. GNUstep can figure out where the classes are and where the
outlets/actions are.</p>
<section id="the-code">
<h3>The code<a class="headerlink" href="#the-code" title="Permalink to this heading">#</a></h3>
<p>Now, I need to add the new outlets and actions into the files of
<code class="docutils literal notranslate"><span class="pre">TimeView</span></code>. Here is the header.</p>
<p><code class="docutils literal notranslate"><span class="pre">TimeView.h:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="cp">#import &lt;AppKit/AppKit.h&gt;</span>
<span class="cp">#import &quot;ClockView.h&quot;</span>

<span class="k">@interface</span> <span class="nc">TimeView</span> : <span class="nc">NSControl</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">id</span><span class="w"> </span><span class="n">zonePanel</span><span class="p">;</span>
<span class="w">    </span><span class="kt">id</span><span class="w"> </span><span class="n">zoneField</span><span class="p">;</span>
<span class="w">    </span><span class="n">NSBox</span><span class="o">*</span><span class="w"> </span><span class="n">box</span><span class="p">;</span>
<span class="w">    </span><span class="n">NSTextField</span><span class="w"> </span><span class="o">*</span><span class="n">labelDate</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">labelTime</span><span class="p">;</span>
<span class="w">    </span><span class="n">NSTextField</span><span class="w"> </span><span class="o">*</span><span class="n">localDate</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">localTime</span><span class="p">;</span>
<span class="w">    </span><span class="n">NSCalendarDate</span><span class="o">*</span><span class="w"> </span><span class="n">date</span><span class="p">;</span>
<span class="w">    </span><span class="n">ClockView</span><span class="o">*</span><span class="w"> </span><span class="n">clockView</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="n">NSCalendarDate</span><span class="w"> </span><span class="o">*</span><span class="p">)</span> <span class="nf">date</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">setDate:</span><span class="w"> </span><span class="p">(</span><span class="n">NSCalendarDate</span><span class="w"> </span><span class="o">*</span><span class="p">)</span> <span class="nv">date</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">okAction:</span><span class="w"> </span><span class="p">(</span><span class="kt">id</span><span class="p">)</span> <span class="nv">sender</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">cancelAction:</span><span class="w"> </span><span class="p">(</span><span class="kt">id</span><span class="p">)</span> <span class="nv">sender</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
<p>I add the outlets and actions by myself.</p>
<p><code class="docutils literal notranslate"><span class="pre">TimeView.m:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">mouseDown:</span><span class="w"> </span><span class="p">(</span><span class="bp">NSEvent</span><span class="w"> </span><span class="o">*</span><span class="p">)</span> <span class="nv">event</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">NSRect</span><span class="w"> </span><span class="n">titleFrame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">box</span><span class="w"> </span><span class="n">titleRect</span><span class="p">];</span>
<span class="w">    </span><span class="n">NSPoint</span><span class="w"> </span><span class="n">windowLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">event</span><span class="w"> </span><span class="n">locationInWindow</span><span class="p">];</span>
<span class="w">    </span><span class="n">NSPoint</span><span class="w"> </span><span class="n">viewLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">convertPoint</span><span class="o">:</span><span class="w"> </span><span class="n">windowLocation</span><span class="w"> </span><span class="n">fromView</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">superview</span><span class="p">]];</span>
<span class="w">    </span><span class="kt">BOOL</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NSMouseInRect</span><span class="p">(</span><span class="n">viewLocation</span><span class="p">,</span><span class="w"> </span><span class="n">titleFrame</span><span class="p">,</span><span class="w"> </span><span class="nb">NO</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">YES</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[</span><span class="bp">NSBundle</span><span class="w"> </span><span class="n">loadNibNamed</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;TimeZonePanel.gorm&quot;</span><span class="w"> </span><span class="n">owner</span><span class="o">:</span><span class="w"> </span><span class="nb">self</span><span class="p">];</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">NSApp</span><span class="w"> </span><span class="n">runModalForWindow</span><span class="o">:</span><span class="w"> </span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">zonePanel</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The method <code class="docutils literal notranslate"><span class="pre">-mouseDown:</span></code> is called when mouse is clicked within this view.
Here, we calculate whether the mouse is clicked in the area of the title
of the <code class="docutils literal notranslate"><span class="pre">NSBox</span></code>. If so, we use <code class="docutils literal notranslate"><span class="pre">[NSBundle</span> <span class="pre">loadNibNamed:</span> <span class="pre">owner:]</span></code> to load the
window, and <code class="docutils literal notranslate"><span class="pre">[NSApp</span> <span class="pre">runModalForWindow]</span></code> to display it. Read Cocoa’s
document about “<a class="reference external" href="http://developer.apple.com/techpubs/macosx/Cocoa/TasksAndConcepts/ProgrammingTopics/WinPanel/Concepts/UsingModalWindows.html#CJBEADBA"><em>How Modal Windows
Work</em></a>”.</p>
<p>Now, I just need to finish the actions part in <code class="docutils literal notranslate"><span class="pre">TimeView.m</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">TimeView.m:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">cancelAction:</span><span class="w"> </span><span class="p">(</span><span class="kt">id</span><span class="p">)</span> <span class="nv">sender</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="n">NSApp</span><span class="w"> </span><span class="n">abortModal</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">zonePanel</span><span class="w"> </span><span class="n">close</span><span class="p">];</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">okAction:</span><span class="w"> </span><span class="p">(</span><span class="kt">id</span><span class="p">)</span> <span class="nv">sender</span>
<span class="p">{</span>
<span class="w">    </span><span class="bp">NSTimeZone</span><span class="o">*</span><span class="w"> </span><span class="n">tempZone</span><span class="p">;</span>
<span class="w">    </span><span class="n">tempZone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSTimeZone</span><span class="w"> </span><span class="n">timeZoneWithName</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">zoneField</span><span class="w"> </span><span class="n">stringValue</span><span class="p">]];</span>
<span class="w">    </span><span class="p">[</span><span class="n">NSApp</span><span class="w"> </span><span class="n">stopModal</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">zonePanel</span><span class="w"> </span><span class="n">close</span><span class="p">];</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">tempZone</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">nil</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">NSRunAlertPanel</span><span class="p">(</span><span class="s">@&quot;Warning!&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="s">@&quot;Wrong Time Zone !!&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="s">@&quot;OK&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[</span><span class="n">date</span><span class="w"> </span><span class="n">setTimeZone</span><span class="o">:</span><span class="w"> </span><span class="n">tempZone</span><span class="p">];</span>
<span class="w">        </span><span class="p">[</span><span class="n">box</span><span class="w"> </span><span class="n">setTitle</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">tempZone</span><span class="w"> </span><span class="n">description</span><span class="p">]];</span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">setDate</span><span class="o">:</span><span class="w"> </span><span class="n">date</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In method <code class="docutils literal notranslate"><span class="pre">-okAction:</span></code>, I use a built-in panel, <code class="docutils literal notranslate"><span class="pre">NSRunAlertPanel</span></code>. There are
several built-in panels in GNUstep ready to use. Now, you can display
the current time in different time zone.</p>
</section>
</section>
<section id="better-keyboard-access">
<h2>Better keyboard access<a class="headerlink" href="#better-keyboard-access" title="Permalink to this heading">#</a></h2>
<p>It is inconvenient to use this pop-up panel because you have to click
the <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> before typing. Sometimes, it is more convenient to
control the user interface via keyboard rather than mouse.</p>
<p>When a window pop-up, it is the “First Responder” – the first object
to receive events and keypresses. But usually we want some
other objects in this window to receive the keypresses. Therefore, we need
to change the “first responder” of this window by
using <code class="docutils literal notranslate"><span class="pre">[NSWindow</span> <span class="pre">makeFirstResponder:]</span></code>.</p>
<p>When I want to use <kbd>Tab</kbd> key to switch between different views in the
window, you need to assign the <code class="docutils literal notranslate"><span class="pre">nextKeyView</span></code> to the next view when the <kbd>Tab</kbd>
key is pressed so that the Application Kit knows where the responder should
be.</p>
<p>Finally, when I finish typing in the <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code>, I want to hit the
<kbd>Return</kbd> key to click <button>OK</button> so that I
don’t need to move my hand out of the keyboard. In this case, since
<code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> is also a subclass of <code class="docutils literal notranslate"><span class="pre">NSControl</span></code>, I can set the target and
action of <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> to be the same as the <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> <button>OK</button>. Therefore, when I hit <kbd>Return</kbd>, it is equivalent to clicking on the <button>OK</button> button.</p>
<p>These are small tune-ups for the application, but it makes it easier to use the application.</p>
<p>First, let’s set the “first responder” of the window to the
NSTextField:</p>
<p><code class="docutils literal notranslate"><span class="pre">TimeView.m:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">mouseDown:</span><span class="w"> </span><span class="p">(</span><span class="bp">NSEvent</span><span class="w"> </span><span class="o">*</span><span class="p">)</span> <span class="nv">event</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">NSRect</span><span class="w"> </span><span class="n">titleFrame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">box</span><span class="w"> </span><span class="n">titleRect</span><span class="p">];</span>
<span class="w">    </span><span class="n">NSPoint</span><span class="w"> </span><span class="n">windowLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">event</span><span class="w"> </span><span class="n">locationInWindow</span><span class="p">];</span>
<span class="w">    </span><span class="n">NSPoint</span><span class="w"> </span><span class="n">viewLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">convertPoint</span><span class="o">:</span><span class="w"> </span><span class="n">windowLocation</span><span class="w"> </span><span class="n">fromView</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">superview</span><span class="p">]];</span>
<span class="w">    </span><span class="kt">BOOL</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NSMouseInRect</span><span class="p">(</span><span class="n">viewLocation</span><span class="p">,</span><span class="w"> </span><span class="n">titleFrame</span><span class="p">,</span><span class="w"> </span><span class="nb">NO</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">YES</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[</span><span class="bp">NSBundle</span><span class="w"> </span><span class="n">loadNibNamed</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;TimeZonePanel.gorm&quot;</span><span class="w"> </span><span class="n">owner</span><span class="o">:</span><span class="w"> </span><span class="nb">self</span><span class="p">];</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">zonePanel</span><span class="w"> </span><span class="n">makeFirstResponder</span><span class="o">:</span><span class="w"> </span><span class="n">zoneField</span><span class="p">];</span>
<span class="w">        </span><span class="p">[</span><span class="n">NSApp</span><span class="w"> </span><span class="n">runModalForWindow</span><span class="o">:</span><span class="w"> </span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">zonePanel</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Only one line is enough. Now, when this panel shows up, the cursor will
automatically be in the <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code>.</p>
<p>Second, let’s set the target and action of <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> to be the same as the <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> <button>OK</button>. Open the <code class="docutils literal notranslate"><span class="pre">TimeZonePanel.gorm</span></code>, and connect the <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> to the method <code class="docutils literal notranslate"><span class="pre">-okAction:</span></code> of the <code class="docutils literal notranslate"><span class="pre">NSOwner</span></code>. That’s it. Whenever you hit the <kbd>Return</kbd> key in the <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code>, the method <code class="docutils literal notranslate"><span class="pre">-okAction:</span></code> is
called.</p>
<p><span id="AEN814"></span></p>
<p><strong>Figure 4-29. Connection NSTextField action</strong></p>
<p><img alt="" src="../../../_images/Panel-10.jpg" /></p>
<p><img alt="" src="../../../_images/Panel-11.jpg" /></p>
<p><img alt="" src="../../../_images/Panel-12.jpg" /></p>
<p>Third, we need to connect the <code class="docutils literal notranslate"><span class="pre">nextKeyView</span></code> outlet between the views in
the window. I’ll connect the <code class="docutils literal notranslate"><span class="pre">nextKeyView</span></code> of <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> to the <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> <button>OK</button>, the <code class="docutils literal notranslate"><span class="pre">nextKeyView</span></code> outlet of the <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> <button>OK</button> to the <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> <button>Cancel</button>,
and the <code class="docutils literal notranslate"><span class="pre">nextKeyView</span></code> outlet of the <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> <button>Cancel</button> to the <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code>. By
doing that, I can switch between these views using the <kbd>Tab</kbd> key. Here, I just
show how the <code class="docutils literal notranslate"><span class="pre">nextKeyView</span></code> of <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> connects to the <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> <button>OK</button>.</p>
<p><span id="AEN826"></span></p>
<p><strong>Figure 4-30. Connect nextKeyView</strong></p>
<p><img alt="" src="../../../_images/Panel-13.jpg" /></p>
<p><img alt="" src="../../../_images/Panel-14.jpg" /></p>
<p>Source code:
<a class="reference external" href="http://gnustep.made-it.com/GSPT/Panel/Panel-src.tar.gz">Panel-src.tar.gz</a>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="3.4.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">3.4 - Multiple Clocks</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="3.2.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">3.2 - Analog Clock</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Ethan C
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">3.3 - New Time Zone Dialog</a><ul>
<li><a class="reference internal" href="#creating-a-panel">Creating a Panel</a></li>
<li><a class="reference internal" href="#controlling-the-panel">Controlling the panel</a><ul>
<li><a class="reference internal" href="#the-code">The code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#better-keyboard-access">Better keyboard access</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=37d1907c"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>