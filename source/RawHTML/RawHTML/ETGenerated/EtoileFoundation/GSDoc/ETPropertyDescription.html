<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
    <title>ETPropertyDescription class documentation</title>
  </head>
  <body>
    <font face="serif">
    <h1><a name="title$ETPropertyDescription">ETPropertyDescription class documentation</a></h1>
    <h3>Authors</h3>
    <dl>
      <dt>Generated by pi</dt>
      <dd>
      </dd>
    </dl>
    <p><b>Copyright:</b> (C) 2009 Eric Wasylishen, Quentin Mathe</p>

        <div>
    </div>

          <h1><a name="001000000000">
        Software documentation for the ETPropertyDescription
        class
      </a></h1>
    <h2><a name="class$ETPropertyDescription">ETPropertyDescription</a> : <a rel="gsdoc" href="ETModelElementDescription.html#class$ETModelElementDescription">ETModelElementDescription</a></h2>
    <blockquote class="declared">
      <dl>
        <dt><b>Declared in:</b></dt>
        <dd>ETPropertyDescription.h</dd>
      </dl>
    </blockquote>
    <div class="desc">
      
          
    </p>
    <p>

            @group Metamodel @abstract Description of an
            entity&apos;s property.
              </p>
    <p>
      
          
    </p>
    <p>

            A property description represents either an attribute or
            a relationship that belongs to an entity. Whether a
            property represents an attribute or relationships
            depends on the
            
              -type
            

            (the entity description for the propery value).
              </p>
    <p>
      
          
    </p>
    <p>

            For a primitive type (see -[ETEntityDescription
            isPrimitive]), the property is an attribute.
            For a non-primitive type, it is a relationship. For
            more explanations,
            
              -isAttribute
            

            and
            
              -isRelationship
            

            .
              </p>
    <p>
      
          
    </p>
    <p>

            @section Conceptual Model
              </p>
    <p>
      
          
    </p>
    <p>

            For a Metamodel overview, see
            ETModelElementDescription.
              </p>
    <p>
      
          
    </p>
    <p>

            @section Model Description
              </p>
    <p>
      
          
    </p>
    <p>

            ETPropertyDescription provides a
            large number of properties to describe the model,
            these properties can be split into three categories:
              </p>
    <p>
      
          
      <dl>
        <dt>Model Specification</dt>
        <dd>
          
              Properties to describe new and existing model
              and metamodel (the FAME-based metamodel)
            
        </dd>
        <dt>Persistency Specification</dt>
        <dd>
          
              Properties to describe persistent model and
              persistency rules (can be leveraged or not by
              a Persistency framework e.g. CoreObject)
            
        </dd>
        <dt>Model Presentation Specification</dt>
        <dd>
          
              Properties to describe model presentation in
              the UI, and model-driven generation (can be leveraged
              or not by a UI or Model Generation framework)
            
        </dd>
      </dl>
      
          
    </p>
    <p>

            The Model Specification properties must be edited to
            get working metamodel.
              </p>
    <p>
      
          
    </p>
    <p>

            Both Persistency and Model Presentation Specifications
            are optional. These additional specifications are
            usually generic enough to be reused by Persistency
            and UI frameworks other than CoreObject and EtoileUI.
              </p>
    <p>
      
          
    </p>
    <p>

            Warning: For now, CoreObject validation rules are
            hardcoded into -[ETPropertyDescription
            checkConstraints:], and this limits the
            possibility to reuse the Persistency
            Specification without CoreObject.
              </p>
    <p>
      
          
    </p>
    <p>

            Additional properties or specification can be
            added by subclassing ETPropertyDescription. In the
            future, we will probably support extending the
            metamodel dynamically at run-time too.
              </p>
    <p>
      
          
    </p>
    <p>

            @section Role and Validation
              </p>
    <p>
      
          
    </p>
    <p>

            A role can be set to provide validation rules that
            describe attribute or relationship constraints in
            a particular metamodel. The role must be compatible with
            the current -type
.
            For example, when
            
              -isRelationship
            

            is <code>NO</code>, setting a ETRelationshipRole will
            cause a warning in
            
              -checkConstraints
            

            .
              </p>
    <p>
      
          
    </p>
    <p>

            The validation is delegated to the role by
            <a rel="gsdoc" href="#method$ETPropertyDescription-validateValue$forKey$">
              -validateValue:forKey:
            </a>

            .
              </p>
    <p>
      
          
    </p>
    <p>

            @section Multivalues
              </p>
    <p>
      
          
    </p>
    <p>

            Both attributes and relationships can be univalued or
            multivalued. A multivalued relationship is a
            too-many relationship, while a univalued
            relationship is a to-one relationship. A
            multivalued attribute is a value object
            collection (multivalued relationships are entity
            object collections).
              </p>
    <p>
      
          
    </p>
    <p>

            @section Late-Bound References
              </p>
    <p>
      
          
    </p>
    <p>

            For easily creating property descriptions that refer to
            each other or entity descriptions, without worrying
            about the dependencies accross all the model element
            descriptions, ETPropertyDescriptions includes
            properties such as
            
              -setOppositeName:
            

            or
            
              -setTypeName:
            

            that can be used to refer to other
            ETModelElementDescription objects
            by their -name
 or
            
              -fullName
            

            .
              </p>
    <p>
      
          
    </p>
    <p>

            When all these related descriptions are added to a
            repository with -[ETModelDescriptionRepository
            addUnresolvedDescription:],
            -[ETModelDescriptionRepository
            resolveNamedObjectReferences]
            can be called to resolve the name references to their
            real objects.
              </p>
    <p>
      
          
    </p>
    <p>

            For example, the
            
              -opposite
            

            is set based on the ETPropertyDescription object
            returned by -[ETModelDescriptionRepository
            descriptionForName:] for
            
              -oppositeName
            

            .
              </p>
    <p>
      
          
    </p>
    <p>

            For properties descriptions added to entity
            descriptions returned by +[NSObject
            newEntityDescription], all these
            model element descriptions are collected and resolved
            in the main repository. For other repositories or entity
            descriptions created outside of +[NSObject
            newEntityDescription], you must call
            -[ETModelDescriptionRepository
            resolveNamedObjectReferences]
            manually.
              </p>
    <p>
      
          
    </p>
    <p>

            @section Freezing
              </p>
    <p>
      
          
    </p>
    <p>

            If
            
              -isPersistent
            

            returns <code>NO</code> and the opposite is not
            persistent either, the property description
            won&apos;t be frozen when the owner is, and mutating the
            property description state will remain possible
            (except turning it into a persistent property
            description).
              </p>
    <p>
      
          
    </p>
    <p>

            If -isFrozen
 is
            <code>YES</code>, the property description is
            largely immutable, only the properties declared in
            Model Presentation remains mutable (to support
            customizing the UI generation for persistent
            objects at run-time).
              </p>
    <p>
      
        
    </div>
    <b>Method summary</b>
    <ul>
      <li><a rel="gsdoc" href="ETPropertyDescription.html#method$ETPropertyDescription+descriptionWithName$type$">+descriptionWithName:type:</a></li>
      <li><a rel="gsdoc" href="ETPropertyDescription.html#method$ETPropertyDescription+descriptionWithName$typeName$">+descriptionWithName:typeName:</a></li>
      <li><a rel="gsdoc" href="ETPropertyDescription.html#method$ETPropertyDescription+newEntityDescription">+newEntityDescription</a></li>
      <li><a rel="gsdoc" href="ETPropertyDescription.html#method$ETPropertyDescription-makeFrozen">-makeFrozen</a></li>
      <li><a rel="gsdoc" href="ETPropertyDescription.html#method$ETPropertyDescription-validateValue$forKey$">-validateValue:forKey:</a></li>
    </ul>
    <hr width="50%" align="left" />
<div class="method">
    <h3><a name="method$ETPropertyDescription+descriptionWithName$type$">descriptionWithName:&nbsp;type:&nbsp;</a></h3>
    + (<a rel="gsdoc" href="#class$ETPropertyDescription">ETPropertyDescription</a>*) <b>descriptionWithName:</b> (<a rel="gsdoc" href="/usr/GNUstep/Local/Library/Documentation/Developer/Base/Reference/NSString.html#class$NSString">NSString</a>*)aName<b> type:</b> (<a rel="gsdoc" href="ETEntityDescription.html#class$ETEntityDescription">ETEntityDescription</a>*)aType;<br />
    <div class="desc">
      
            
    </p>
    <p>

              @taskunit Initialization
                </p>
    <p>
      
            
    </p>
    <p>

              Returns an autoreleased property description.
                </p>
    <p>
      
            
    </p>
    <p>

              The given name and type must not be <code>nil</code>,
              otherwise an NSInvalidArgumentException is
              raised.
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$ETPropertyDescription+descriptionWithName$typeName$">descriptionWithName:&nbsp;typeName:&nbsp;</a></h3>
    + (<a rel="gsdoc" href="#class$ETPropertyDescription">ETPropertyDescription</a>*) <b>descriptionWithName:</b> (<a rel="gsdoc" href="/usr/GNUstep/Local/Library/Documentation/Developer/Base/Reference/NSString.html#class$NSString">NSString</a>*)aName<b> typeName:</b> (<a rel="gsdoc" href="/usr/GNUstep/Local/Library/Documentation/Developer/Base/Reference/NSString.html#class$NSString">NSString</a>*)aTypeName;<br />
    <div class="desc">
      
            
    </p>
    <p>

              Returns an autoreleased property description.
                </p>
    <p>
      
            
    </p>
    <p>

              The given name and type name must not be
              <code>nil</code>, otherwise an
              NSInvalidArgumentException is
              raised.
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$ETPropertyDescription+newEntityDescription">newEntityDescription&nbsp;</a></h3>
    + (<a rel="gsdoc" href="ETEntityDescription.html#class$ETEntityDescription">ETEntityDescription</a>*) <b>newEntityDescription</b>;<br />
    <div class="desc">
      
            
    </p>
    <p>

              @taskunit Metamodel Description
                </p>
    <p>
      
            
    </p>
    <p>

              Self-description (aka meta-metamodel).
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$ETPropertyDescription-makeFrozen">makeFrozen&nbsp;</a></h3>
    - (void) <b>makeFrozen</b>;<br />
Subclasses <strong>must</strong> override this method.<br />
    <div class="desc">
      
            
    </p>
    <p>

              Pass a block which takes one argument (the value
              being validated) and returns an ETValidationResult
                </p>
    <p>
      
            
    </p>
    <p>

              @taskunit Internal
                </p>
    <p>
      
            
    </p>
    <p>

              Marks the receiver as frozen. From this point, if
              
                -isPersistent
              

              returns <code>YES</code> and the owner is frozen,
              the receiver is immutable and any attempt to mutate
              it will cause an exception to be thrown.
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
<div class="method">
    <h3><a name="method$ETPropertyDescription-validateValue$forKey$">validateValue:&nbsp;forKey:&nbsp;</a></h3>
    - (<a rel="gsdoc" href="ETValidationResult.html#class$ETValidationResult">ETValidationResult</a>*) <b>validateValue:</b> (id)value<b> forKey:</b> (<a rel="gsdoc" href="/usr/GNUstep/Local/Library/Documentation/Developer/Base/Reference/NSString.html#class$NSString">NSString</a>*)key;<br />
    <div class="desc">
      
            
    </p>
    <p>

              @taskunit Validation
                </p>
    <p>
      
          
    </div>
    <hr width="25%" align="left" />
</div>
    <br />
    </font>
</body>
</html>
