<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GNUstep CoreBase Library: Unicode String Utilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GNUstep CoreBase Library
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Unicode String Utilities</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa3c9638cf659367b8c140f14d669954a"><td class="memItemLeft" align="right" valign="top"><a id="gaa3c9638cf659367b8c140f14d669954a"></a>
CFIndex&#160;</td><td class="memItemRight" valign="bottom"><b>GSUnicodeFormatWithArguments</b> (UniChar *__restrict__ s, CFIndex n, CFTypeRef locale, const UniChar *__restrict__ format, CFIndex fmtlen, va_list ap)</td></tr>
<tr class="separator:gaa3c9638cf659367b8c140f14d669954a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ade7d2b290e242e52e8f387543a61cb"><td class="memItemLeft" align="right" valign="top"><a id="ga4ade7d2b290e242e52e8f387543a61cb"></a>
CFIndex&#160;</td><td class="memItemRight" valign="bottom"><b>GSUnicodeFormat</b> (UniChar *__restrict__ s, CFIndex n, CFTypeRef locale, const UniChar *__restrict__ format, CFIndex fmtlen,...)</td></tr>
<tr class="separator:ga4ade7d2b290e242e52e8f387543a61cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Convert to/from a Unicode String</h2></td></tr>
<tr class="memitem:gaad6c5c923ce726182bc0bf4127c37f05"><td class="memItemLeft" align="right" valign="top">CFIndex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__UnicodeUtils.html#gaad6c5c923ce726182bc0bf4127c37f05">GSUnicodeFromEncoding</a> (UniChar **d, const UniChar *const dLimit, CFStringEncoding enc, const UInt8 **s, const UInt8 *const sLimit, const UTF16Char loss)</td></tr>
<tr class="memdesc:gaad6c5c923ce726182bc0bf4127c37f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string in some external encoding to Unicode (UTF-16).  <a href="group__UnicodeUtils.html#gaad6c5c923ce726182bc0bf4127c37f05">More...</a><br /></td></tr>
<tr class="separator:gaad6c5c923ce726182bc0bf4127c37f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecaf89aae2e9a6cfb545461115eda9b3"><td class="memItemLeft" align="right" valign="top">CFIndex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__UnicodeUtils.html#gaecaf89aae2e9a6cfb545461115eda9b3">GSUnicodeToEncoding</a> (UInt8 **d, const UInt8 *const dLimit, CFStringEncoding enc, const UniChar **s, const UniChar *const sLimit, const char loss, Boolean addBOM)</td></tr>
<tr class="memdesc:gaecaf89aae2e9a6cfb545461115eda9b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a Unicode string (UTF-16) to some external encoding.  <a href="group__UnicodeUtils.html#gaecaf89aae2e9a6cfb545461115eda9b3">More...</a><br /></td></tr>
<tr class="separator:gaecaf89aae2e9a6cfb545461115eda9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaad6c5c923ce726182bc0bf4127c37f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad6c5c923ce726182bc0bf4127c37f05">&#9670;&nbsp;</a></span>GSUnicodeFromEncoding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CFIndex GSUnicodeFromEncoding </td>
          <td>(</td>
          <td class="paramtype">UniChar **&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UniChar *const&#160;</td>
          <td class="paramname"><em>dLimit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CFStringEncoding&#160;</td>
          <td class="paramname"><em>enc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UInt8 **&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UInt8 *const&#160;</td>
          <td class="paramname"><em>sLimit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UTF16Char&#160;</td>
          <td class="paramname"><em>loss</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used internally to convert to Unicode from the various supported encodings.</p>
<p>The function performs checks on both the input and output to verify the results of the conversion is valid UTF-16 data.</p>
<dl class="section note"><dt>Note</dt><dd>This function always attempts to consume the source buffer <b>s</b> completely. It will only stop if an invalid character and no <b>loss</b> character was provided. Certain encodings, like UTF-7, are stateful and cannot be converted recursively. This differs from the behavior of <a class="el" href="group__UnicodeUtils.html#gaecaf89aae2e9a6cfb545461115eda9b3" title="Convert a Unicode string (UTF-16) to some external encoding.">GSUnicodeToEncoding()</a> and note must be taken.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">d</td><td>Pointer to the address the start of the destination buffer. If <code>NULL</code> or pointing to <code>NULL</code>, will cause the function to perform the conversion but not write any data out. On return, points to memory immediately after where the last byte of data was written out. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dLimit</td><td>A pointer to memory immediately after the end of the destination buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enc</td><td>Encoding of the data in source buffer. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s</td><td>Pointer to the first character of the source buffer. This value must not point to <code>NULL</code> or be <code>NULL</code> itself. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sLimit</td><td>A pointer to memory immediate after the end of the source buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">loss</td><td>A substitute character for invalid input. For example, if a UTF-8 input string encodes a surrogate without a pair. A typical character would be <b>U+FFFD</b> (replacement character). Specify a value of <code>0</code> if you do not want lossy conversion. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The amount of <code>UniChar</code> characters required to successfully complete the conversion. Will return <b>-1</b> if an error is encountered, such as an invalid character and no <b>loss</b> character was provided. If an error occurs, <b>dLen</b> and <b>sLen</b> are still updated and reflect where the error occurred.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__UnicodeUtils.html#gaecaf89aae2e9a6cfb545461115eda9b3" title="Convert a Unicode string (UTF-16) to some external encoding.">GSUnicodeToEncoding()</a> </dd></dl>

</div>
</div>
<a id="gaecaf89aae2e9a6cfb545461115eda9b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecaf89aae2e9a6cfb545461115eda9b3">&#9670;&nbsp;</a></span>GSUnicodeToEncoding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CFIndex GSUnicodeToEncoding </td>
          <td>(</td>
          <td class="paramtype">UInt8 **&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UInt8 *const&#160;</td>
          <td class="paramname"><em>dLimit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CFStringEncoding&#160;</td>
          <td class="paramname"><em>enc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UniChar **&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UniChar *const&#160;</td>
          <td class="paramname"><em>sLimit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>loss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Boolean&#160;</td>
          <td class="paramname"><em>addBOM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used internally to convert from Unicode to the various supported encodings.</p>
<p>The function performs minimal checks on the input data and will only fail if a code point cannot be converted to the specified encoding and a <b>loss</b> character was not provided.</p>
<dl class="section note"><dt>Note</dt><dd>This function only attempts to fill the destination buffer <b>d</b>. Only if <b>d</b> or <b>dLen</b> are <code>NULL</code> will this function attempt to consume the source buffer completely. Additionally, in the case when converting to UTF-16 this function does not perform any checks to ensure the input and output are correct. This differs from the behavior of <a class="el" href="group__UnicodeUtils.html#gaad6c5c923ce726182bc0bf4127c37f05" title="Convert a string in some external encoding to Unicode (UTF-16).">GSUnicodeFromEncoding()</a> and note must be taken.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">d</td><td>Pointer to the address the start of the destination buffer. If <code>NULL</code> or pointing to <code>NULL</code>, will cause the function to perform the conversion but not write any data out. On return, points to memory immediately after where the last byte of data was written out. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dLimit</td><td>A pointer to memory immediately after the end of the destination buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enc</td><td>Encoding of the data in source buffer. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s</td><td>Pointer to the first character of the source buffer. This value must not point to <code>NULL</code> or be <code>NULL</code> itself. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sLimit</td><td>A pointer to memory immediate after the end of the source buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">loss</td><td>A substitute character for invalid input. For example, if a UTF-8 input string encodes a surrogate without a pair. A typical character would be <b>'?'</b> (replacement character). Specify a value of <b>0</b> if you do not want lossy conversion. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addBOM</td><td>If <code>true</code>, adds a byte order mark to the start of the destination buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of successfully converted converted UTF-16 code points. May return <b>-1</b> if an error is encountered, such as an invalid character and no <b>loss</b> character was provided.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__UnicodeUtils.html#gaad6c5c923ce726182bc0bf4127c37f05" title="Convert a string in some external encoding to Unicode (UTF-16).">GSUnicodeFromEncoding</a> () </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 20 2022 21:52:45 for GNUstep CoreBase Library by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
